<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>]
		<style type="text/css">
			body{
				font-size: 300%;
			}
		</style>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		document.body.innerHTML = ''
		var bX = 0;
		var bY = 0;
		var bZ = 0;
		var speed = 0;
		var bTime = new Date();
		if (window.DeviceMotionEvent) {
			window.addEventListener('devicemotion',function(e){
				var now = new Date();
				if (now - bTime >100) {
					var motion = e.accelerationIncludingGravity;
					
					var x = parseInt(motion.x);
					var y = parseInt(motion.y);
					var z = parseInt(motion.z);
					
					speed += Math.abs(x+y+z-bX-bY-bZ);
					document.body.innerHTML = speed;
				}
				bX = x;
				bY = y;
				bZ = z;
				bTime = new Date();
					
				document.body.innerHTML = 'x:'+x+"<br />y:"+y+"<br />z:"+z;
			})
		}else{
			alert('设备不支持摇一摇功能！')
		}
	</script>
</html>
