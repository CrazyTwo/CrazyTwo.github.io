<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="../css/reset.css">
	<link rel="stylesheet" type="text/css" href="../css/header1.css">
	<link rel="stylesheet" type="text/css" href="../css/container1.css">
</head>
<body>
	<div class="header clear">
		<form action="" class="fl">
			<input type="text" value="输入菜品名称">
		</form>
		<ul class="fr">
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</div>
	<div class="xl_contend">
		<div class="xl_complete">
			<ul class="clear">
				<li>
					<p>请选择</p><div>X</div>
				</li>
			</ul>
			<div class="xl_type">
				<h4>32种可做菜品</h4>
				<a href=""><p>查看</p></a>
			</div>
		</div>
		<div class="xl_choise">
			<ul class="clear">
				<li class="fl"><p>樱桃番茄</p><img src="../img/2.png" alt=""></li>
				<li class="fl"><p>笋</p><img src="../img/3.png" alt=""></li>
				<li class="fl"><p>小白菜</p><img src="../img/4.png" alt=""></li>
				<li class="fl"><p>胡萝卜</p><img src="../img/5.png" alt=""></li>
				<li class="fl"><p>紫薯</p><img src="../img/6.png" alt=""></li>
				<li class="fl"><p>西芹</p><img src="../img/7.png" alt=""></li>
				<li class="fl"><p>玉米</p><img src="../img/8.png" alt=""></li>
				<li class="fl"><p>平菇</p><img src="../img/9.png" alt=""></li>
				<li class="fl"><p>辣椒</p><img src="../img/10.png" alt=""></li>
			</ul>
		</div>
	</div>
</body>
<script type="text/javascript" src="../js/jquery-3.0.0.min.js"></script>
<script type="text/javascript">
	var $input = $('input')
	var complete = document.querySelector('.xl_complete')
	var ul = complete.querySelector('ul')
	var type = document.querySelector('.xl_type');
	var find = type.querySelector('p');
	var choise = document.querySelector('.xl_choise')
	var li = choise.querySelectorAll('li')
	var index = 0;
	var arr = []
	$input.focus(function () {//input输入框
		if ($input.val()=="输入菜品名称") {$input.val("")}
		else {$input.val()}
	})
	$input.blur(function () {
		if (!$input.val()) {$input.val("输入菜品名称")}
		else {$input.val()}
	})
	for (var i = 0; i < li.length; i++) {//点击菜谱出现
		li[i].index=i
		li[i].addEventListener('touchstart',function () {
			if (check(this.index,arr)) {return}
			index++
			if (index==1) {
				var li = ul.querySelector('li')
				ul.removeChild(li)
			}
			var p = this.querySelector('p')
			var img = this.querySelector('img')
			var _this = this
			var li = document.createElement('li');
			li.innerHTML='<p>'+p.innerHTML+'</p><div>X</div><img src="'+img.src+'" alt="">';
			var div = li.querySelector('div')
			ul.appendChild(li);
			div.addEventListener('touchstart',function () {
				ul.removeChild(this.parentNode)
				arr.splice(delet(_this.index,arr),1)
				index--
				if (index<=0) {
					var li = document.createElement('li');
					li.innerHTML='<p>请选择</p><div>X</div>';
					ul.appendChild(li);
					index=0
				}
			})
		})
	}
	function check(num,arr) {//检测是否重复点击
		for (var i = 0; i < arr.length; i++) {
			if (num==arr[i]) {return true}
		}
		arr.push(num)
	}
	function delet(num,arr) {
		for (var i = 0; i < arr.length; i++) {
			if (num==arr[i]) {return i}
		}
	}
</script>
</html>